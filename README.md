# Исследование идеальной конфигурации Nginx для максимальной защиты сайта

### Инструкция по самому проекту расположена по ссылке - https://github.com/zhivaevda/nginx/blob/main/MANUAL.md

## О проекте

Это не полноценный проект, а исследовательская работа, в ходе которой я детально изучил механизмы защиты в **Nginx** и разработал способ настроить сервер так, чтобы он защищал сайт максимально эффективно — на **100%**.

Основная цель состояла в том, чтобы понять, как можно вывести защитные возможности Nginx за пределы базовых, статических настроек и сделать их гибкими и адаптивными.

---

## Главная находка исследования

Стандартный Nginx позволяет задавать лишь **статические лимиты** для:

* `limit_req` — ограничение количества запросов;
* `limit_conn` — ограничение количества одновременных соединений.

Однако в таком варианте лимиты задаются *одинаковыми для всех*, *статическими*, что не всегда подходит для реальной рабочей среды.

В ходе исследования я нашёл способ:

### ✔️ Разделять лимиты `limit_req` и `limit_conn` **по зонам / IP-адресам**

### ✔️ Объявлять лимиты **динамически**, а не статически

Таким образом, Nginx получает возможность применять разные лимиты для разных клиентов, групп пользователей или сегментов трафика.

Это позволяет:

* эффективно защищаться от DDoS и спам-трафика,
* уделять больше ресурсов доверенным пользователям,
* распределять нагрузку тонко и гибко,
* полностью исключить ситуации, когда "один лимит на всех" приводит к некорректной работе под высокими нагрузками.

---

## Почему это важно

Динамические лимиты — то, чего нет в Nginx "из коробки". В стандартной документации подобного подхода не существует. Это открывает новые возможности:

* **Разделение по IP зонам**, если у вас есть напрмер несколько подсетей, и вы хотите им выделить большие лимиты, а для допустим всех других меньше - этот проект поможет.
* **Гибкая защита сайта**, основанная на реальном трафике.
* **Более точная реакция на аномалии**, без перегибов и ложных ограничений.
* **Абсолютно новый уровень контроля над нагрузкой**.

Фактически удалось получить уровень защиты, которого невозможно добиться обычными средствами Nginx.

---

## Результат исследования

* Разработана и протестирована схема распределения лимитов по зонам/IP.
* Настройки могут быть адаптированы под любой сайт.
* Защита работает *динамически* и *автоматически* на 100%.
* Итоговый подход может использоваться в продакшене.

---

## Лицензия

Свободное исследование. Можно использовать идеи и подходы в собственных проектах.
